<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Lexicon Drive — Смартборд</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="app" id="app">
    <header class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div class="brandText">
          <h1>Lexicon Drive</h1>
          <div class="subtitle" id="subtitle">Собери предложение по порядку • Нажимай слова снизу</div>
        </div>
      </div>

      <div class="timerBox" aria-live="polite">
        <div class="timerLabel" id="timerLabel">Осталось</div>
        <div class="timer" id="globalTimer">60</div>
        <div class="timerUnit" id="timerUnit">сек</div>
      </div>

      <div class="teacherBar">
        <button class="tbtn" id="pauseBtn" title="Пауза / Продолжить">⏸ Пауза</button>
        <button class="tbtn" id="freezeBtn" title="Заморозить / разморозить время">⏱ Заморозить время</button>
        <button class="tbtn" id="skipA" title="Пропустить раунд Команды A">⏭ Пропуск A</button>
        <button class="tbtn" id="skipB" title="Пропустить раунд Команды B">⏭ Пропуск B</button>

        <div class="teacherRight">
          <button class="btn" id="openSetupBtn">Меню</button>
          <button class="btn danger" id="resetBtn">Сброс</button>
          <button class="btn primary" id="startBtn">Старт</button>
        </div>
      </div>
    </header>

    <main class="main">
      <!-- Team A -->
      <section class="team teamA" id="teamA">
        <div class="teamHeader">
          <div class="teamName"><span class="badge"></span> <span id="teamATitle">Команда A</span></div>
          <div class="teamMeta">
            <div class="pillSmall"><span id="roundLabel">Раунд:</span> <span id="roundA">—</span></div>
            <div class="pillSmall"><span id="comboLabel">Комбо:</span> <span id="comboA">x1.0</span></div>
            <div class="pillSmall"><span id="scoreLabel">Счёт:</span> <span class="score" id="scoreA">0</span></div>
          </div>
        </div>

        <div class="zone">
          <div class="flashArea">
            <div class="flashWord" id="flashA"></div>
          </div>

          <div class="infoRow">
            <div class="note" id="noteA">Открой «Меню», вставь текст и нажми «Применить».</div>
            <button class="btn small disabled" id="hintA">Подсказка (-200)</button>
          </div>

          <div class="workArea">
            <div class="slots" id="slotsA"></div>
            <div class="tiles" id="tilesA"></div>
            <div class="mathArea" id="mathAreaA" aria-label="Math answers">
              <div class="mathOptions" id="mathOptionsA"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Team B -->
      <section class="team teamB" id="teamB">
        <div class="teamHeader">
          <div class="teamName"><span class="badge"></span> <span id="teamBName">Команда B</span></div>
          <div class="teamMeta">
            <div class="pillSmall"><span id="roundLabel">Раунд:</span> <span id="roundB">—</span></div>
            <div class="pillSmall"><span id="comboLabel">Комбо:</span> <span id="comboB">x1.0</span></div>
            <div class="pillSmall"><span id="scoreLabel">Счёт:</span> <span class="score" id="scoreB">0</span></div>
          </div>
        </div>

        <div class="zone">
          <div class="flashArea">
            <div class="flashWord" id="flashB"></div>
          </div>

          <div class="infoRow">
            <div class="note" id="noteB">Нажимай слова по порядку снизу: 1 → 2 → 3…</div>
            <button class="btn small disabled" id="hintB">Подсказка (-200)</button>
          </div>

          <div class="workArea">
            <div class="slots" id="slotsB"></div>
            <div class="tiles" id="tilesB"></div>
            <div class="mathArea" id="mathAreaB" aria-label="Math answers">
              <div class="mathOptions" id="mathOptionsB"></div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- МЕНЮ -->
  <div class="overlay" id="setupOverlay">
    <div class="card cardModal">
      <div class="cardHeader">
        <div>
          <h2 id="menuTitle">Меню (настройка учителя)</h2>
          <p class="muted" id="menuDesc">
            1 предложение = 1 раунд. Обе команды получают одинаковый текст и одинаковый порядок раундов.
          </p>
        </div>
        <button class="btn" id="closeSetupBtn"><span id="closeMenuText">Закрыть</span></button>
      </div>

      <div class="cardScroll">
        <div class="cardBody">
          <div class="field">
            <label for="presetSelect" id="presetLabel">Готовые тексты</label>
            <select id="presetSelect" class="select">
              <option value="custom">— Пользовательский текст (вставить ниже) —</option>
              <option value="rus_general">Русский — универсальный</option>
              <option value="rus_school">Русский — школьный стиль</option>
              <option value="rus_motivation">Русский — мотивационный</option>
            </select>

            <label for="textInput" id="textLabel">Текст для раундов</label>
            <textarea id="textInput" placeholder="Вставь текст. Лучше 8–14 слов в одном предложении."></textarea>

            <div class="hintBox">
              <b>Как играть:</b> после показа слов появятся плитки снизу — нажимай слова <b>строго по порядку</b>.
            </div>
          </div>

          <div class="settings">
            <div class="setTitle" id="uiTitle">Интерфейс</div>

            <div class="row">
              <div>
                <div class="labelBig" id="langLabel">Язык</div>
                <div class="muted" id="langHint">Русский / English / Кыргызча</div>
              </div>
              <select id="langSelect" class="select" style="max-width:160px;height:42px;">
                <option value="ru">Русский</option>
                <option value="en">English</option>
                <option value="ky">Кыргызча</option>
              </select>
            </div>

            <div class="row">
              <div>
                <div class="labelBig" id="themeLabel">Тема</div>
                <div class="muted" id="themeHint">Светлая / Тёмная</div>
              </div>
              <button class="toggle" id="themeBtn">Светлая</button>
            </div>

            <div class="row">
              <div>
                <div class="labelBig" id="modeLabel">Режим</div>
                <div class="muted" id="modeHint">Текст или Математика</div>
              </div>
              <select id="modeSelect" class="select" style="max-width:200px;height:42px;">
                <option value="text">Текст</option>
                <option value="math">Математика</option>
              </select>
            </div>

            <div class="mathSettings" id="mathSettings">
              <div class="row">
                <div>
                  <div class="labelBig" id="mathRoundsLabel">Раундов (математика)</div>
                  <div class="muted" id="mathRoundsHint">сколько примеров за игру</div>
                </div>
                <div class="value" id="mathRoundsVal">12</div>
              </div>
              <input type="range" id="mathRoundsRange" min="6" max="30" step="1" value="12" />

              <div class="row">
                <div>
                  <div class="labelBig" id="opsLabel">Операции</div>
                  <div class="muted" id="opsHint">можно включить + и −</div>
                </div>
                <div style="display:flex; gap:10px;">
                  <button class="toggle on" id="opPlusBtn">+</button>
                  <button class="toggle on" id="opMinusBtn">−</button>
                </div>
              </div>

              
              <div class="row">
                <div>
                  <div class="labelBig" id="diffLabel">Сложность</div>
                  <div class="muted" id="diffHint">Лёгкий / Средний / Тяжёлый</div>
                </div>
                <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end;">
                  <button class="toggle on" id="diffEasyBtn">Easy</button>
                  <button class="toggle" id="diffMediumBtn">Medium</button>
                  <button class="toggle" id="diffHardBtn">Hard</button>
                </div>
              </div>

            </div>

            <div class="setTitle">Сложность и режимы</div>

            <div class="row">
              <div>
                <div class="labelBig">Скорость показа слов</div>
                <div class="muted">мс на слово (меньше = быстрее)</div>
              </div>
              <div class="value" id="speedVal">800</div>
            </div>
            <input type="range" id="speedRange" min="250" max="1600" step="50" value="800" />

            <div class="row">
              <div>
                <div class="labelBig">Общий таймер</div>
                <div class="muted">секунд на игру</div>
              </div>
              <div class="value" id="timeVal">60</div>
            </div>
            <input type="range" id="timeRange" min="20" max="180" step="5" value="60" />

            <div class="row">
              <div>
                <div class="labelBig">Штраф за 3 ошибки подряд</div>
                <div class="muted">минус очки сразу на 3-й ошибке</div>
              </div>
              <div class="value" id="penaltyVal">150</div>
            </div>
            <input type="range" id="penaltyRange" min="50" max="500" step="25" value="150" />

            <div class="row">
              <div>
                <div class="labelBig">Супер скорость</div>
                <div class="muted">по раундам скорость растёт</div>
              </div>
              <button class="toggle" id="superSpeedBtn">Выкл</button>
            </div>

            <div class="row">
              <div>
                <div class="labelBig">Шаг ускорения</div>
                <div class="muted">на сколько мс быстрее каждый раунд</div>
              </div>
              <div class="value" id="speedStepVal">40</div>
            </div>
            <input type="range" id="speedStepRange" min="10" max="120" step="5" value="40" />

            <div class="row">
              <div>
                <div class="labelBig">Комбо-множитель</div>
                <div class="muted">серия правильных увеличивает x</div>
              </div>
              <button class="toggle" id="comboBtn">Вкл</button>
            </div>

            <div class="row">
              <div>
                <div class="labelBig">Скрытый режим</div>
                <div class="muted">после ошибки плитки исчезают на 2 сек</div>
              </div>
              <button class="toggle" id="hiddenBtn">Выкл</button>
            </div>

            <div class="row">
              <div>
                <div class="labelBig">Звук</div>
                <div class="muted">правильно / ошибка / штраф / победа</div>
              </div>
              <button class="toggle" id="soundBtn">Вкл</button>
            </div>

            <div class="row">
              <div>
                <div class="labelBig">Один игрок</div>
                <div class="muted">игра только для Команды A</div>
              </div>
              <button class="toggle" id="soloBtn">Выкл</button>
            </div>
          </div>
        </div>
      </div>

      <div class="cardFooter cardFooterSticky">
        <div class="pill"><span class="dot cyan"></span> Команда A</div>
        <div class="pill"><span class="dot magenta"></span> Команда B</div>
        <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end; flex:1;">
          <button class="btn primary" id="applyBtn">Применить</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ИТОГИ -->
  <div class="endOverlay" id="endOverlay">
    <div class="endCard">
      <div class="cardHeader">
        <div>
          <h2 id="timeUpTitle">Время вышло!</h2>
          <p class="muted" id="finalScoresLabel">Итоговые очки:</p>
        </div>
        <button class="btn" id="closeEndBtn"><span id="closeEndText">Закрыть</span></button>
      </div>

      <div class="body">
        <div class="result teamA">
          <h3><span id="teamAResult">Команда A</span></h3>
          <div class="bigScore" id="finalA">0</div>
        </div>
        <div class="result teamB">
          <h3><span id="teamBResult">Команда B</span></h3>
          <div class="bigScore" id="finalB">0</div>
        </div>
      </div>

      <div class="cardFooter" style="justify-content:space-between;">
        <div class="winner" id="winnerText">—</div>
        <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end;">
          <button class="btn" id="replayBtn"><span id="replayText">Сыграть ещё</span></button>
          <button class="btn danger" id="hardResetBtn"><span id="hardResetText">Полный сброс</span></button>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
